#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

# Run lint-staged for staged files
npx lint-staged

# Run type checking only on staged TypeScript files
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM "*.ts" "*.tsx" | tr '\n' ' ')
if [ -n "$STAGED_FILES" ]; then
  echo "Running type checking on staged TypeScript files..."
  npx tsc --noEmit
fi
