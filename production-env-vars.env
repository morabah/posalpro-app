# ========================================
# PosalPro MVP2 - Production Environment Variables
# Generated for Netlify Deployment: https://posalpro.netlify.app
# ========================================

# ========================================
# DATABASE CONFIGURATION (Neon PostgreSQL)
# ========================================

# Main database connection (Pooled - Production Ready)
DATABASE_URL=postgresql://neondb_owner:npg_XufaK0v9TOgn@ep-ancient-sun-a9gve4ul-pooler.gwc.azure.neon.tech/neondb?sslmode=require&pgbouncer=true&connection_limit=1

# Direct database connection (Non-pooled)
DIRECT_URL=postgresql://neondb_owner:npg_XufaK0v9TOgn@ep-ancient-sun-a9gve4ul.gwc.azure.neon.tech/neondb?sslmode=require

# ========================================
# AUTHENTICATION & SECURITY
# ========================================

# NextAuth.js Configuration
NEXTAUTH_URL=https://posalpro.netlify.app
NEXTAUTH_SECRET=451f4701894a2f66265997fc8b7dd50c3529c3482c4606299b269708ed7d0212

# JWT Configuration
JWT_SECRET=2031cd23e1b1641d299d8174858f3e6be0e86d4d7716c0c9ba2c99021f645a4a

# CSRF Protection
CSRF_SECRET=7467d9c3b1b7f713dd0c4430b513a3498087be6968979c7f49a6a5d79bee3ead

# ========================================
# REDIS CONFIGURATION (Disabled for Serverless)
# ========================================

# Redis disabled for Netlify Functions (serverless environment)
REDIS_URL=redis://disabled:6379
USE_REDIS=false

# ========================================
# APPLICATION CONFIGURATION
# ========================================

# Environment Settings
NODE_ENV=production
NODE_VERSION=22
NODE_OPTIONS=--max-old-space-size=2048

# Application URLs
NEXT_PUBLIC_APP_URL=https://posalpro.netlify.app
API_BASE_URL=https://posalpro.netlify.app/api

# Build Configuration
NEXT_TELEMETRY_DISABLED=1
NEXT_USE_NETLIFY_EDGE=false
NETLIFY_BUILD_TIME=true
BUILD_MODE=static

# ========================================
# PRISMA DATABASE CONFIGURATION
# ========================================

# Prisma Engine Settings
PRISMA_CLI_QUERY_ENGINE_TYPE=library
PRISMA_CLIENT_ENGINE_TYPE=library
PRISMA_GENERATE_DATAPROXY=false
PRISMA_CLI_BINARY_TARGETS=debian-openssl-3.0.x
PRISMA_GENERATE_SKIP_DOWNLOAD=true
SKIP_PRISMA_GENERATE=true

# ========================================
# NETLIFY BUILD OPTIMIZATION
# ========================================

NETLIFY_LINT=false
ANALYTICS_ENABLED=true

# ========================================
# DEFAULT ADMIN CREDENTIALS
# ========================================
# After seeding the database, use these credentials:
# Email: admin@posalpro.com
# Password: ProposalPro2024!

# ========================================
# DEVELOPMENT DATABASE (for local testing)
# ========================================
# Uncomment these for local development:
# DATABASE_URL="postgresql://username:password@localhost:5432/posalpro_mvp2"
# NEXTAUTH_URL="http://localhost:3000"
# NEXT_PUBLIC_APP_URL="http://localhost:3000"

# ========================================
# BACKUP COMMANDS
# ========================================
# Database backup: npm run db:backup
# Database verification: npm run db:backup:verify
# Schema validation: npm run schema:all

# ========================================
# IMPORTANT NOTES
# ========================================
# 1. Never commit this file to version control
# 2. Keep secrets secure and rotate regularly
# 3. Use different secrets for staging/production
# 4. Test authentication after deployment
# 5. Run database seeding if admin user is missing:
#    npm run db:seed
# 6. Monitor Redis fallback logs (expected in serverless)
# 7. Verify NextAuth URL matches your domain exactly
